.SUFFIXES: .cu

SOURCES := $(wildcard *.cu)
OBJS := $(SOURCES:.cu=.o)
CUDA_ROOT_DIR := cudnn
HEADERS := -I$(CUDA_ROOT_DIR)/include -I$../../include
LIBS := -L $(CUDA_ROOT_DIR)/lib64 -L/usr/local/lib
NVCC_FLAGS=--gpu-architecture=sm_61 -std=c++11 -Xcompiler -fPIC -ltbb -lcudart -lcudnn

all: convn

.cu.o: $(SOURCES)
	nvcc $(NVCC_FLAGS) -c -o $*.o $< $(HEADERS) $(LIBS)

clean:
	@rm *.o 

